# Phase 9: ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ã¸ã®å¤§è¦æ¨¡ãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ - ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025å¹´10æœˆ21æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 9.0.0  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: Output Management Tool  
**Phase**: Phase 9 - éšå±¤æ§‹é€ æ’¤å»ƒã¨BPMNå®Œå…¨çµ±åˆ

---

## ğŸ“‹ ç›®æ¬¡

1. [å¤‰æ›´æ¦‚è¦](#å¤‰æ›´æ¦‚è¦)
2. [Phase 8ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹](#phase-8ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹)
3. [æ–°ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](#æ–°ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
4. [æ©Ÿèƒ½ä»•æ§˜](#æ©Ÿèƒ½ä»•æ§˜)
5. [UI/UXè¦ä»¶](#uiuxè¦ä»¶)
6. [æŠ€è¡“ä»•æ§˜](#æŠ€è¡“ä»•æ§˜)
7. [ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»](#ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»)

---

## å¤‰æ›´æ¦‚è¦

### Phase 9ã®ç›®çš„

Phase 8ã§å®Ÿè£…ã—ãŸ4æ®µéšå›ºå®šéšå±¤ã‚’æ’¤å»ƒã—ã€ãƒ•ãƒ©ãƒƒãƒˆãªå·¥ç¨‹è¡¨æ§‹é€ ã«å¤‰æ›´ã€‚BPMN 2.0ã®å…¨æƒ…å ±ã‚’å·¥ç¨‹è¡¨ã«çµ±åˆã—ã€å·¥ç¨‹è¡¨ãƒ»BPMNãƒ»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®å®Œå…¨ãª1å¯¾1å¯¾å¿œã‚’å®Ÿç¾ã™ã‚‹ã€‚

### ã‚³ã‚¢å¤‰æ›´

| é …ç›® | Phase 8ï¼ˆæ—§ï¼‰ | Phase 9ï¼ˆæ–°ï¼‰ |
|------|--------------|--------------|
| **éšå±¤æ§‹é€ ** | 4æ®µéšå›ºå®šéšå±¤ï¼ˆå¤§â†’ä¸­â†’å°â†’è©³ç´°ï¼‰ | ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ï¼ˆéšå±¤ãªã—ï¼‰ |
| **ãƒ¬ãƒ™ãƒ«** | æ§‹é€ çš„åˆ¶ç´„ã‚ã‚Š | ãƒ©ãƒ™ãƒ«ã®ã¿ï¼ˆè¡¨ç¤ºç”¨ï¼‰ |
| **å·¥ç¨‹è¡¨ã®æ•°** | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«æš—é»™çš„ã«1ã¤ | è¤‡æ•°ä½œæˆå¯èƒ½ |
| **å·¥ç¨‹è¡¨â‡”BPMN** | æš—é»™çš„ãªé–¢é€£ | æ˜ç¤ºçš„ãª1å¯¾1å¯¾å¿œ |
| **å·¥ç¨‹è¡¨â‡”ãƒãƒ‹ãƒ¥ã‚¢ãƒ«** | ä»»æ„ã®é–¢é€£ | æ˜ç¤ºçš„ãª1å¯¾1å¯¾å¿œ |
| **BPMNæƒ…å ±** | åŸºæœ¬æƒ…å ±ã®ã¿ | BPMN 2.0ã®å…¨æƒ…å ± |
| **ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³** | ãªã— | å·¥ç¨‹è¡¨ãƒ»BPMNã§ç®¡ç† |
| **ã‚¹ãƒ†ãƒƒãƒ—** | ãªã— | æ™‚ç³»åˆ—é †åºã‚’ç®¡ç† |
| **ã‚«ã‚¹ã‚¿ãƒ åˆ—** | 30åˆ—ï¼ˆãƒ¬ãƒ™ãƒ«åˆ¥ï¼‰ | 30åˆ—ï¼ˆå·¥ç¨‹è¡¨ã”ã¨ï¼‰ |

---

## Phase 8ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹

### å‰Šé™¤ã•ã‚Œã‚‹æ©Ÿèƒ½

- âŒ è©³ç´°è¡¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`detailTableId`, `parentEntityId`ï¼‰
- âŒ éšå±¤ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã€ä¸Šä½å·¥ç¨‹ã«æˆ»ã‚‹ï¼‰
- âŒ ãƒ¬ãƒ™ãƒ«åˆ¥ã®ã‚«ã‚¹ã‚¿ãƒ åˆ—å®šç¾©
- âŒ `createDetailTable`, `getDetailTable`, `getParentEntity` API
- âŒ ProcessTable, BpmnDiagramTable, ManualTableã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«

### è¿½åŠ ã•ã‚Œã‚‹æ©Ÿèƒ½

- âœ… å·¥ç¨‹è¡¨ã®è¤‡æ•°ä½œæˆãƒ»ç®¡ç†
- âœ… å·¥ç¨‹è¡¨ã¨BPMNãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã®æ˜ç¤ºçš„ãª1å¯¾1å¯¾å¿œ
- âœ… å·¥ç¨‹è¡¨ã¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®æ˜ç¤ºçš„ãª1å¯¾1å¯¾å¿œ
- âœ… ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ç®¡ç†ï¼ˆåå‰ãƒ»è‰²ãƒ»é †åºï¼‰
- âœ… ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†ï¼ˆæ™‚ç³»åˆ—ã®é †åºï¼‰
- âœ… BPMN 2.0ã®å…¨é …ç›®ã‚’å·¥ç¨‹ã«ä¿å­˜
- âœ… `beforeProcessIds`ã«ã‚ˆã‚‹ä¸Šæµå·¥ç¨‹å‚ç…§
- âœ… ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å…±æœ‰ï¼‰
- âœ… BPMNè‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- âœ… ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³è‡ªå‹•ç”Ÿæˆ
- âœ… Excelå‡ºåŠ›æ™‚ã®ç”»åƒæŒ¿å…¥æ¬„

### ä¿æŒã•ã‚Œã‚‹æ©Ÿèƒ½

- âœ… å·¥ç¨‹ã®CRUDæ“ä½œ
- âœ… BPMNã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆbpmn-jsï¼‰çµ±åˆ
- âœ… ä¸‰ä½ä¸€ä½“åŒæœŸã®æ¦‚å¿µï¼ˆå·¥ç¨‹è¡¨â‡”BPMNâ‡”ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼‰
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- âœ… Excelé€£æºï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
- âœ… ã‚«ã‚¹ã‚¿ãƒ åˆ—ï¼ˆ30åˆ—ã€å·¥ç¨‹è¡¨ã”ã¨ã«å®šç¾©ï¼‰
- âœ… æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½

---

## æ–°ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### å…¨ä½“æ§‹æˆ

```
Projectï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
 â”‚
 â”œâ”€ ProcessTable[] (å·¥ç¨‹è¡¨ï¼šè¤‡æ•°ä½œæˆå¯èƒ½)
 â”‚   â”œâ”€ id: string
 â”‚   â”œâ”€ name: string (ä¾‹: "è¦‹ç©ã‚‚ã‚Šç™ºè¡Œ")
 â”‚   â”œâ”€ level: 'large' | 'medium' | 'small' | 'detail' (ãƒ©ãƒ™ãƒ«)
 â”‚   â”œâ”€ swimlanes: Swimlane[] (ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³å®šç¾©)
 â”‚   â”œâ”€ steps: Step[] (ã‚¹ãƒ†ãƒƒãƒ—å®šç¾©)
 â”‚   â”œâ”€ customColumns: CustomColumn[] (30åˆ—ã¾ã§)
 â”‚   â””â”€ processes: Process[] (å·¥ç¨‹ãƒªã‚¹ãƒˆ)
 â”‚
 â”œâ”€ BpmnDiagram[] (BPMNãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ï¼šå·¥ç¨‹è¡¨ã¨1å¯¾1)
 â”‚   â”œâ”€ processTableId: string (å¤–éƒ¨ã‚­ãƒ¼)
 â”‚   â””â”€ xmlContent: string (BPMN 2.0 XML)
 â”‚
 â”œâ”€ Manual[] (ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼šå·¥ç¨‹è¡¨ã¨1å¯¾1)
 â”‚   â”œâ”€ processTableId: string (å¤–éƒ¨ã‚­ãƒ¼)
 â”‚   â”œâ”€ sections: ManualSection[] (ã‚»ã‚¯ã‚·ãƒ§ãƒ³)
 â”‚   â””â”€ imageSlots: ImageSlot[] (Excelå‡ºåŠ›ç”¨)
 â”‚
 â””â”€ DataObject[] (ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å…±æœ‰)
     â”œâ”€ id: string
     â”œâ”€ name: string (ä¾‹: "è¦‹ç©æ›¸")
     â”œâ”€ type: string (ä¾‹: "Document")
     â””â”€ description: string
```

### è©³ç´°å‹å®šç¾©

#### ProcessTableï¼ˆå·¥ç¨‹è¡¨ï¼‰

```typescript
interface ProcessTable {
  id: string;
  projectId: string;
  name: string;                    // ä¾‹: "è¦‹ç©ã‚‚ã‚Šç™ºè¡Œ"
  level: ProcessLevel;             // ãƒ©ãƒ™ãƒ«ï¼ˆå¿…é ˆã€å¤‰æ›´å¯èƒ½ï¼‰
  description?: string;
  
  // ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³å®šç¾©ï¼ˆå·¥ç¨‹è¡¨ä½œæˆæ™‚ã«å®šç¾©ã€å¾Œã‹ã‚‰ç·¨é›†å¯èƒ½ï¼‰
  swimlanes: Swimlane[];
  
  // ã‚¹ãƒ†ãƒƒãƒ—å®šç¾©ï¼ˆå·¥ç¨‹è¡¨ã”ã¨ã«ç®¡ç†ï¼‰
  steps: Step[];
  
  // ã‚«ã‚¹ã‚¿ãƒ åˆ—å®šç¾©ï¼ˆ30åˆ—ã¾ã§ï¼‰
  customColumns: CustomColumn[];
  
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  displayOrder: number;
  createdAt: Date;
  updatedAt: Date;
}

type ProcessLevel = 'large' | 'medium' | 'small' | 'detail';

interface Swimlane {
  id: string;
  name: string;                    // ä¾‹: "å–¶æ¥­éƒ¨"
  color: string;                   // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼ˆ#3B82F6ç­‰ï¼‰
  order: number;                   // è¡¨ç¤ºé †åº
}

interface Step {
  id: string;
  name: string;                    // ä¾‹: "ã‚¹ãƒ†ãƒƒãƒ—1", "åˆæœŸæ®µéš"
  order: number;                   // æ™‚ç³»åˆ—é †åº
}

interface CustomColumn {
  id: string;
  name: string;
  type: 'TEXT' | 'NUMBER' | 'DATE' | 'SELECT' | 'CHECKBOX';
  options?: string[];              // SELECTå‹ã®å ´åˆã®é¸æŠè‚¢
  required: boolean;
  order: number;
}
```

#### Processï¼ˆå·¥ç¨‹ï¼‰

```typescript
interface Process {
  id: string;
  processTableId: string;          // æ‰€å±ã™ã‚‹å·¥ç¨‹è¡¨
  
  // åŸºæœ¬æƒ…å ±ï¼ˆå¿…é ˆï¼‰
  name: string;                    // ã‚¿ã‚¹ã‚¯å
  swimlane: string;                // ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³åï¼ˆå¿…é ˆï¼‰
  step: number;                    // ã‚¹ãƒ†ãƒƒãƒ—é †åºï¼ˆå¿…é ˆï¼‰
  taskType: BpmnTaskType;          // ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ï¼ˆå¿…é ˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼‰
  
  // ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ï¼ˆç·¨é›†åŠ¹ç‡åŒ–ï¼‰
  beforeProcessIds: string[];      // å‰å·¥ç¨‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ï¼‰
  nextProcessIds: string[];        // æ¬¡å·¥ç¨‹ï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰
  
  // BPMNè©³ç´°æƒ…å ±ï¼ˆä»»æ„ï¼‰
  documentation?: string;          // èª¬æ˜
  gatewayType?: GatewayType;       // ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚¿ã‚¤ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼‰
  conditionalFlows?: ConditionalFlow[];  // æ¡ä»¶å¼
  
  // ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ï¼ˆä»»æ„ï¼‰
  eventType?: EventType;           // ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼‰
  intermediateEventType?: IntermediateEventType;
  eventDetails?: string;
  
  // ãƒ‡ãƒ¼ã‚¿é€£æºï¼ˆä»»æ„ï¼‰
  inputDataObjects?: string[];     // ã‚¤ãƒ³ãƒ—ãƒƒãƒˆï¼ˆDataObject IDã®é…åˆ—ï¼‰
  outputDataObjects?: string[];    // ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆDataObject IDã®é…åˆ—ï¼‰
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ãƒ­ãƒ¼ï¼ˆä»»æ„ï¼‰
  messageFlows?: MessageFlow[];
  
  // ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆä»»æ„ï¼‰
  artifacts?: Artifact[];
  
  // ã‚«ã‚¹ã‚¿ãƒ åˆ—ã®å€¤
  customColumns?: Record<string, any>;
  
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  displayOrder: number;
  createdAt: Date;
  updatedAt: Date;
}

// BPMNå‹å®šç¾©
type BpmnTaskType = 
  | 'userTask'        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  | 'serviceTask'
  | 'manualTask'
  | 'scriptTask'
  | 'businessRuleTask'
  | 'sendTask'
  | 'receiveTask';

type GatewayType = 
  | 'exclusive'       // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæ’ä»–ï¼‰
  | 'parallel'        // ä¸¦åˆ—
  | 'inclusive';      // åŒ…å«

type EventType = 
  | 'start'           // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  | 'end'
  | 'intermediate';

type IntermediateEventType =
  | 'timer'
  | 'message'
  | 'error'
  | 'signal'
  | 'conditional';

interface ConditionalFlow {
  targetProcessId: string;
  condition: string;           // æ¡ä»¶å¼ï¼ˆè‡ªç”±è¨˜è¿°ï¼‰
  description?: string;
}

interface MessageFlow {
  targetProcessId: string;
  messageContent: string;      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ï¼ˆè‡ªç”±è¨˜è¿°ï¼‰
  description?: string;
}

interface Artifact {
  type: 'annotation' | 'group';
  content: string;             // æ³¨é‡ˆå†…å®¹
}
```

#### BpmnDiagramï¼ˆBPMNãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ï¼‰

```typescript
interface BpmnDiagram {
  id: string;
  projectId: string;
  processTableId: string;      // å·¥ç¨‹è¡¨ã¨1å¯¾1å¯¾å¿œï¼ˆå¤–éƒ¨ã‚­ãƒ¼ã€UNIQUEåˆ¶ç´„ï¼‰
  
  name: string;                // å·¥ç¨‹è¡¨åã¨åŒæœŸ
  level: ProcessLevel;         // å·¥ç¨‹è¡¨ã®ãƒ¬ãƒ™ãƒ«ã¨åŒæœŸ
  xmlContent: string;          // BPMN 2.0 XML
  version: number;
  
  // è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  layoutAlgorithm?: 'auto' | 'manual';
  layoutMetadata?: Record<string, any>;
  
  createdAt: Date;
  updatedAt: Date;
}
```

#### Manualï¼ˆãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼‰

```typescript
interface Manual {
  id: string;
  projectId: string;
  processTableId: string;      // å·¥ç¨‹è¡¨ã¨1å¯¾1å¯¾å¿œï¼ˆå¤–éƒ¨ã‚­ãƒ¼ã€UNIQUEåˆ¶ç´„ï¼‰
  
  name: string;                // å·¥ç¨‹è¡¨åã¨åŒæœŸ
  level: ProcessLevel;         // å·¥ç¨‹è¡¨ã®ãƒ¬ãƒ™ãƒ«ã¨åŒæœŸ
  content: string;             // Markdownå½¢å¼
  version: number;
  
  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ï¼ˆã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³è‡ªå‹•ç”Ÿæˆï¼‰
  sections: ManualSection[];
  
  // Excelå‡ºåŠ›ç”¨ã®ç”»åƒæŒ¿å…¥æ¬„
  imageSlots: ImageSlot[];
  
  createdAt: Date;
  updatedAt: Date;
}

interface ManualSection {
  id: string;
  manualId: string;
  processId: string;           // å·¥ç¨‹ã¨ç´ä»˜ã‘
  
  title: string;               // å·¥ç¨‹åã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
  content: string;             // è©³ç´°æ‰‹é †ï¼ˆæ‰‹å‹•å…¥åŠ›ï¼‰
  order: number;
  
  // è©³ç´°ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆãƒã‚¹ãƒˆã¯æµ…ã„ï¼‰
  detailSteps: DetailStep[];
  
  createdAt: Date;
  updatedAt: Date;
}

interface DetailStep {
  id: string;
  sectionId: string;
  title: string;
  content: string;
  order: number;
}

interface ImageSlot {
  id: string;
  sectionId: string;
  caption: string;
  imagePath?: string;          // ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  order: number;
}
```

#### DataObjectï¼ˆãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰

```typescript
interface DataObject {
  id: string;
  projectId: string;           // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å…±æœ‰
  
  name: string;                // ä¾‹: "è¦‹ç©æ›¸", "ç™ºæ³¨æ›¸"
  type: string;                // ä¾‹: "Document", "Data", "Message"
  description?: string;
  
  createdAt: Date;
  updatedAt: Date;
}
```

---

## æ©Ÿèƒ½ä»•æ§˜

### 1. å·¥ç¨‹è¡¨ç®¡ç†

#### 1.1 å·¥ç¨‹è¡¨ã®æ–°è¦ä½œæˆ

**ç”»é¢ãƒ•ãƒ­ãƒ¼:**
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ã§ã€Œæ–°è¦å·¥ç¨‹è¡¨ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
   - åå‰å…¥åŠ›ï¼ˆå¿…é ˆï¼‰: ä¾‹ã€Œè¦‹ç©ã‚‚ã‚Šç™ºè¡Œã€
   - ãƒ¬ãƒ™ãƒ«é¸æŠï¼ˆå¿…é ˆï¼‰: å¤§å·¥ç¨‹è¡¨/ä¸­å·¥ç¨‹è¡¨/å°å·¥ç¨‹è¡¨/è©³ç´°å·¥ç¨‹è¡¨
   - ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³å®šç¾©ï¼ˆä»»æ„ã€å¾Œã‹ã‚‰ç·¨é›†å¯èƒ½ï¼‰
     - åå‰å…¥åŠ›
     - è‰²é¸æŠï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼‰
     - è¿½åŠ ãƒ»å‰Šé™¤ãƒ»ä¸¦ã³æ›¿ãˆ
3. ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
4. è‡ªå‹•å‡¦ç†:
   - ProcessTableä½œæˆ
   - BpmnDiagramä½œæˆï¼ˆprocessTableIdã§ç´ä»˜ã‘ï¼‰
   - Manualä½œæˆï¼ˆprocessTableIdã§ç´ä»˜ã‘ï¼‰

**API:**
```typescript
window.electronAPI.processTable.create({
  projectId: string,
  name: string,
  level: ProcessLevel,
  swimlanes: Array<{ name: string, color?: string }>,
  description?: string
}): Promise<{
  processTable: ProcessTable,
  bpmnDiagram: BpmnDiagram,
  manual: Manual
}>
```

#### 1.2 å·¥ç¨‹è¡¨ã®ç·¨é›†

**ç·¨é›†å¯èƒ½é …ç›®:**
- åå‰
- ãƒ¬ãƒ™ãƒ«ï¼ˆå¤‰æ›´å¯èƒ½ï¼‰
- èª¬æ˜
- ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ï¼ˆè¿½åŠ ãƒ»å‰Šé™¤ãƒ»åå‰å¤‰æ›´ãƒ»è‰²å¤‰æ›´ãƒ»ä¸¦ã³æ›¿ãˆï¼‰
- ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆè¿½åŠ ãƒ»å‰Šé™¤ãƒ»åå‰å¤‰æ›´ãƒ»ä¸¦ã³æ›¿ãˆï¼‰
- ã‚«ã‚¹ã‚¿ãƒ åˆ—å®šç¾©ï¼ˆ30åˆ—ã¾ã§ï¼‰

**åŒæœŸå‡¦ç†:**
- åå‰å¤‰æ›´ â†’ BPMNã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®åå‰ã‚‚è‡ªå‹•æ›´æ–°
- ãƒ¬ãƒ™ãƒ«å¤‰æ›´ â†’ BPMNã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ãƒ¬ãƒ™ãƒ«ã‚‚è‡ªå‹•æ›´æ–°
- ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³å¤‰æ›´ â†’ BPMN XMLã‚’å†ç”Ÿæˆ

#### 1.3 å·¥ç¨‹è¡¨ã®å‰Šé™¤

**å‰Šé™¤ãƒ•ãƒ­ãƒ¼:**
1. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
   - ã€Œã“ã®å·¥ç¨‹è¡¨ã‚’å‰Šé™¤ã™ã‚‹ã¨ã€é–¢é€£ã™ã‚‹BPMNãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚‚å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ã€
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª
3. ä¸€æ‹¬å‰Šé™¤:
   - ProcessTableå‰Šé™¤
   - BpmnDiagramå‰Šé™¤ï¼ˆCASCADEï¼‰
   - Manualå‰Šé™¤ï¼ˆCASCADEï¼‰
   - é–¢é€£ã™ã‚‹Processå‰Šé™¤ï¼ˆCASCADEï¼‰

### 2. å·¥ç¨‹ç®¡ç†

#### 2.1 å·¥ç¨‹ã®æ–°è¦ä½œæˆ

**å·¥ç¨‹è¡¨ç·¨é›†ç”»é¢:**
1. ã€Œæ–°è¦å·¥ç¨‹è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. å·¥ç¨‹ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º

**å¿…é ˆé …ç›®:**
- ã‚¿ã‚¹ã‚¯å
- ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ï¼ˆé¸æŠï¼‰
- ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆé¸æŠï¼‰
- ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ï¼ˆé¸æŠã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: userTaskï¼‰

**ä»»æ„é …ç›®ï¼ˆã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼‰:**
- åŸºæœ¬æƒ…å ±ã‚¿ãƒ–:
  - èª¬æ˜ï¼ˆdocumentationï¼‰
  - å‰å·¥ç¨‹ï¼ˆbeforeProcessIdsï¼‰é¸æŠ
- ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã‚¿ãƒ–:
  - ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚¿ã‚¤ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: exclusiveï¼‰
  - æ¡ä»¶å¼ï¼ˆconditionalFlowsï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ãƒ–:
  - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: startï¼‰
  - ä¸­é–“ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—
  - ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°
- ãƒ‡ãƒ¼ã‚¿ã‚¿ãƒ–:
  - ã‚¤ãƒ³ãƒ—ãƒƒãƒˆï¼ˆDataObjecté¸æŠï¼‰
  - ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆDataObjecté¸æŠï¼‰
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ãƒ–:
  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ãƒ­ãƒ¼ï¼ˆå¯¾è±¡å·¥ç¨‹ã€å†…å®¹ï¼‰
- ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚¿ãƒ–:
  - æ³¨é‡ˆ
- ã‚«ã‚¹ã‚¿ãƒ åˆ—ã‚¿ãƒ–:
  - å·¥ç¨‹è¡¨ã§å®šç¾©ã—ãŸ30åˆ—ã®å€¤å…¥åŠ›

**è‡ªå‹•å‡¦ç†:**
- `nextProcessIds`ã‚’`beforeProcessIds`ã‹ã‚‰è‡ªå‹•è¨ˆç®—
- BPMNã‚¿ã‚¹ã‚¯ã‚’XMLã«è¿½åŠ 
- ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•ç”Ÿæˆï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã®ã¿ï¼‰

**API:**
```typescript
window.electronAPI.process.create(data: CreateProcessDto): Promise<{
  process: Process,
  bpmnUpdated: boolean,
  manualUpdated: boolean
}>
```

#### 2.2 å·¥ç¨‹ã®ç·¨é›†

**ç·¨é›†ãƒ•ãƒ­ãƒ¼:**
- å…¨é …ç›®ãŒç·¨é›†å¯èƒ½
- `beforeProcessIds`å¤‰æ›´ â†’ `nextProcessIds`ã‚’è‡ªå‹•å†è¨ˆç®—
- å¤‰æ›´å†…å®¹ã‚’BPMN XMLã«åæ˜ 
- ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ›´æ–°

#### 2.3 å·¥ç¨‹ã®å‰Šé™¤

**å‰Šé™¤ãƒ•ãƒ­ãƒ¼:**
1. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
2. å‰Šé™¤å‡¦ç†:
   - Processå‰Šé™¤
   - ä»–ã®å·¥ç¨‹ã®`beforeProcessIds`ã€`nextProcessIds`ã‹ã‚‰å‰Šé™¤
   - BPMN XMLã‹ã‚‰ã‚¿ã‚¹ã‚¯å‰Šé™¤
   - ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‰Šé™¤

### 3. BPMNã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆ

#### 3.1 BPMNã‚¨ãƒ‡ã‚£ã‚¿ã§ã®ç·¨é›†

**ç·¨é›†å¯èƒ½æ“ä½œ:**
- ã‚¿ã‚¹ã‚¯ã®é…ç½®ï¼ˆã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ã€ä½ç½®ï¼‰
- ã‚¿ã‚¹ã‚¯ã®æ¥ç¶šï¼ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãƒ•ãƒ­ãƒ¼ï¼‰
- ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã®é…ç½®
- ã‚¤ãƒ™ãƒ³ãƒˆã®é…ç½®
- ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ‘ãƒãƒ«ã§ã®ç·¨é›†

**è‡ªå‹•åŒæœŸ:**
- BPMNã§å¤‰æ›´ â†’ å·¥ç¨‹è¡¨ã«åæ˜ 
- ã‚¿ã‚¹ã‚¯è¿½åŠ  â†’ Processä½œæˆ
- ã‚¿ã‚¹ã‚¯å‰Šé™¤ â†’ Processå‰Šé™¤
- ã‚¿ã‚¹ã‚¯ç§»å‹• â†’ swimlaneã€stepæ›´æ–°
- æ¥ç¶šå¤‰æ›´ â†’ nextProcessIdsã€beforeProcessIdsæ›´æ–°

#### 3.2 è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

**ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ :**
1. ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ã¨ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ã‚°ãƒªãƒƒãƒ‰é…ç½®ã‚’è¨ˆç®—
2. åŒã˜ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ãƒ»ã‚¹ãƒ†ãƒƒãƒ—ã«è¤‡æ•°å·¥ç¨‹ãŒã‚ã‚‹å ´åˆ:
   - ã‚µãƒ–ã‚°ãƒªãƒƒãƒ‰ã«é…ç½®ï¼ˆå‚ç›´æ–¹å‘ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼‰
   - å„å·¥ç¨‹ã®å¹…ã‚’è¨ˆç®—ã—ã¦é‡ãªã‚‰ãªã„ã‚ˆã†ã«é…ç½®
3. ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãƒ•ãƒ­ãƒ¼ã‚’æç”»
   - ç›´ç·šã¾ãŸã¯æ›²ç·šã§æ¥ç¶š
   - äº¤å·®ã‚’æœ€å°åŒ–ã™ã‚‹ãƒ‘ã‚¹è¨ˆç®—

**å®Ÿè£…æ–¹é‡:**
- dagre.jsã‚„elkjsãªã©ã®ã‚°ãƒ©ãƒ•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¤œè¨
- bpmn-jsã®è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã¨çµ±åˆ

**é…ç½®ä¾‹:**
```
ã‚¹ãƒ†ãƒƒãƒ—1        ã‚¹ãƒ†ãƒƒãƒ—2        ã‚¹ãƒ†ãƒƒãƒ—3
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å–¶æ¥­éƒ¨        â”‚              â”‚              â”‚
â”‚ [ã‚¿ã‚¹ã‚¯A]    â”‚ [ã‚¿ã‚¹ã‚¯C]    â”‚              â”‚
â”‚              â”‚ [ã‚¿ã‚¹ã‚¯D]    â”‚              â”‚ â† åŒã˜ä½ç½®ã«2ã¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚çµŒç†éƒ¨        â”‚              â”‚              â”‚
â”‚              â”‚ [ã‚¿ã‚¹ã‚¯B]    â”‚ [ã‚¿ã‚¹ã‚¯E]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ç®¡ç†

#### 4.1 ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³è‡ªå‹•ç”Ÿæˆ

**ç”Ÿæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°:**
- å·¥ç¨‹è¡¨ä½œæˆæ™‚: ç©ºã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ
- å·¥ç¨‹è¿½åŠ æ™‚: ã‚»ã‚¯ã‚·ãƒ§ãƒ³è‡ªå‹•ç”Ÿæˆ

**ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ :**
```markdown
# è¦‹ç©ã‚‚ã‚Šç™ºè¡Œãƒãƒ‹ãƒ¥ã‚¢ãƒ«

## 1. ã‚¿ã‚¹ã‚¯Aï¼ˆå·¥ç¨‹åã‹ã‚‰è‡ªå‹•ç”Ÿæˆï¼‰
### 1.1 è©³ç´°æ‰‹é †ï¼ˆæ‰‹å‹•å…¥åŠ›æ¬„ï¼‰
<!-- ç”»åƒæŒ¿å…¥æ¬„ -->

## 2. ã‚¿ã‚¹ã‚¯B
### 2.1 è©³ç´°æ‰‹é †
<!-- ç”»åƒæŒ¿å…¥æ¬„ -->
```

**API:**
```typescript
window.electronAPI.manual.updateSection(
  sectionId: string,
  content: string
): Promise<ManualSection>
```

#### 4.2 Excelå‡ºåŠ›

**å‡ºåŠ›å½¢å¼:**
- å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’1ãƒšãƒ¼ã‚¸ã«é…ç½®
- å·¥ç¨‹åï¼ˆè¦‹å‡ºã—ï¼‰
- è©³ç´°æ‰‹é †ï¼ˆãƒ†ã‚­ã‚¹ãƒˆï¼‰
- ç”»åƒæŒ¿å…¥æ¬„ï¼ˆç©ºç™½ã¾ãŸã¯ç”»åƒï¼‰

**ç”»åƒç®¡ç†:**
```typescript
interface ImageSlot {
  id: string;
  sectionId: string;
  caption: string;
  imagePath?: string;
  order: number;
}

window.electronAPI.manual.addImage(
  sectionId: string,
  imagePath: string,
  caption: string
): Promise<ImageSlot>
```

### 5. ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†

#### 5.1 ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

**ä½œæˆç”»é¢:**
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š â†’ ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
- ã€Œæ–°è¦ä½œæˆã€ãƒœã‚¿ãƒ³
- åå‰ã€ã‚¿ã‚¤ãƒ—ã€èª¬æ˜ã‚’å…¥åŠ›

**API:**
```typescript
window.electronAPI.dataObject.create({
  projectId: string,
  name: string,
  type: string,
  description?: string
}): Promise<DataObject>
```

#### 5.2 å·¥ç¨‹ã§ã®åˆ©ç”¨

**é¸æŠUI:**
- å·¥ç¨‹ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®ã€Œãƒ‡ãƒ¼ã‚¿ã€ã‚¿ãƒ–
- ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ: DataObjectã‚’è¤‡æ•°é¸æŠ
- ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ: DataObjectã‚’è¤‡æ•°é¸æŠ

**BPMNè¡¨ç¤º:**
- DataObjectã‚’BPMNå›³ã«è¡¨ç¤º
- DataAssociationã§å·¥ç¨‹ã¨æ¥ç¶š

---

## UI/UXè¦ä»¶

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: XXX                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ–°è¦å·¥ç¨‹è¡¨ä½œæˆ] [ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†] â”‚
â”‚                                         â”‚
â”‚ å·¥ç¨‹è¡¨ä¸€è¦§:                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ â”‚ è¦‹ç©ã‚‚ã‚Šç™ºè¡Œï¼ˆå°å·¥ç¨‹è¡¨ï¼‰        â”‚      â”‚
â”‚ â”‚ ä½œæˆæ—¥: 2025-10-21              â”‚      â”‚
â”‚ â”‚ å·¥ç¨‹æ•°: 10                      â”‚      â”‚
â”‚ â”‚ [é–‹ã] [ç·¨é›†] [å‰Šé™¤]           â”‚      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ â”‚ è£½é€ ãƒ•ãƒ­ãƒ¼ï¼ˆå¤§å·¥ç¨‹è¡¨ï¼‰          â”‚      â”‚
â”‚ â”‚ ...                             â”‚      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å·¥ç¨‹è¡¨ç·¨é›†ãƒšãƒ¼ã‚¸

**UIæ§‹æˆ**: ã‚¿ãƒ–åˆ‡æ›¿å½¢å¼ï¼ˆæ—¢å­˜ã®è¨­å®šUIï¼ˆã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ãƒ»ã‚¹ãƒ†ãƒƒãƒ—ãƒ»ã‚«ã‚¹ã‚¿ãƒ åˆ—ï¼‰ã¨çµ±ä¸€ï¼‰

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¦‹ç©ã‚‚ã‚Šç™ºè¡Œï¼ˆå°å·¥ç¨‹è¡¨ï¼‰                                          â”‚
â”‚ [æˆ»ã‚‹] [BPMNå›³ã‚’é–‹ã] [ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’é–‹ã]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å·¥ç¨‹ä¸€è¦§] [ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³] [ã‚¹ãƒ†ãƒƒãƒ—] [ã‚«ã‚¹ã‚¿ãƒ åˆ—]  â† ã‚¿ãƒ–       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€å·¥ç¨‹ä¸€è¦§ã‚¿ãƒ–ã€‘ï¼ˆåˆæœŸè¡¨ç¤ºã€å…ˆé ­ã‚¿ãƒ–ï¼‰

ğŸ” ãƒ•ã‚£ãƒ«ã‚¿: [å…¨ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³â–¼] [å…¨ã‚¹ãƒ†ãƒƒãƒ—â–¼] [å…¨ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—â–¼] 
   [æ¤œç´¢: ___________] ğŸ”„æ›´æ–° [â• æ–°ã—ã„å·¥ç¨‹ã‚’è¿½åŠ ]

â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚é¸æŠâ”‚å·¥ç¨‹å    â”‚ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³â”‚ã‚¹ãƒ†ãƒƒãƒ—â”‚ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—â”‚å‰å·¥ç¨‹  â”‚ã‚«ã‚¹ã‚¿ãƒ åˆ—â”‚æ“ä½œâ”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚â˜ â”‚è¦‹ç©ä½œæˆ  â”‚å–¶æ¥­éƒ¨   â”‚è¦ä»¶å®šç¾©â”‚ğŸ‘¤UserTaskâ”‚-       â”‚æ‹…å½“:å±±ç”° â”‚âœï¸ğŸ“‹ğŸ—‘ï¸â”‚
â”‚â˜ â”‚é‡‘é¡ç¢ºèª  â”‚å–¶æ¥­éƒ¨   â”‚è¦ä»¶å®šç¾©â”‚ğŸ‘¤UserTaskâ”‚è¦‹ç©ä½œæˆâ”‚æ‹…å½“:ä½è—¤ â”‚âœï¸ğŸ“‹ğŸ—‘ï¸â”‚
â”‚â˜ â”‚æ‰¿èªå‡¦ç†  â”‚çµŒç†éƒ¨   â”‚æ‰¿èª    â”‚ğŸ‘¤UserTaskâ”‚é‡‘é¡ç¢ºèªâ”‚æ‹…å½“:éˆ´æœ¨ â”‚âœï¸ğŸ“‹ğŸ—‘ï¸â”‚
â”‚â˜ â”‚ç™ºè¡Œ      â”‚å–¶æ¥­éƒ¨   â”‚å®Ÿè¡Œ    â”‚ğŸ‘¤UserTaskâ”‚æ‰¿èªå‡¦ç†â”‚æ‹…å½“:ç”°ä¸­ â”‚âœï¸ğŸ“‹ğŸ—‘ï¸â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

[é¸æŠã—ãŸå·¥ç¨‹ã‚’å‰Šé™¤] [CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]

è¡¨ç¤ºä»¶æ•°: 4ä»¶ / å…¨4ä»¶  [< 1 >]

---

ã€ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ã‚¿ãƒ–ã€‘
ï¼ˆæ—¢å­˜å®Ÿè£…: SwimlaneManagement.tsxï¼‰
- ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ä¸€è¦§ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã§ä¸¦ã³æ›¿ãˆï¼‰
- è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
- ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼

ã€ã‚¹ãƒ†ãƒƒãƒ—ã‚¿ãƒ–ã€‘
ï¼ˆæ—¢å­˜å®Ÿè£…: StepManagement.tsxï¼‰
- ã‚¹ãƒ†ãƒƒãƒ—ä¸€è¦§ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã§ä¸¦ã³æ›¿ãˆï¼‰
- è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
- é †åºè‡ªå‹•ç®¡ç†

ã€ã‚«ã‚¹ã‚¿ãƒ åˆ—ã‚¿ãƒ–ã€‘
ï¼ˆæ—¢å­˜å®Ÿè£…: CustomColumnManagement.tsxï¼‰
- ã‚«ã‚¹ã‚¿ãƒ åˆ—å®šç¾©ä¸€è¦§
- 5ã¤ã®å‹å¯¾å¿œï¼ˆTEXT/NUMBER/DATE/SELECT/CHECKBOXï¼‰
- è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
```

**å·¥ç¨‹ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ©Ÿèƒ½:**
- âœ… ã‚½ãƒ¼ãƒˆï¼ˆå„åˆ—ã‚¯ãƒªãƒƒã‚¯ã§æ˜‡é †ãƒ»é™é †åˆ‡æ›¿ï¼‰
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ãƒ»ã‚¹ãƒ†ãƒƒãƒ—ãƒ»ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ï¼‰
- âœ… æ¤œç´¢ï¼ˆå·¥ç¨‹åã§ã®çµã‚Šè¾¼ã¿ï¼‰
- âœ… è¤‡æ•°é¸æŠï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
- âœ… ä¸€æ‹¬å‰Šé™¤
- âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œï¼‰
- âœ… ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†ï¼ˆã‚»ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ç›´æ¥ç·¨é›†ã€æ¤œè¨ä¸­ï¼‰
- âœ… CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- âœ… è¡Œãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆä¸¦ã³æ›¿ãˆï¼‰

### 3. å·¥ç¨‹ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 

**ã‚¿ãƒ–æ§‹æˆ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·¥ç¨‹ç·¨é›†                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åŸºæœ¬æƒ…å ±] [ãƒ•ãƒ­ãƒ¼] [ã‚¤ãƒ™ãƒ³ãƒˆ] [ãƒ‡ãƒ¼ã‚¿]  â”‚
â”‚ [ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸] [ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ] [ã‚«ã‚¹ã‚¿ãƒ ]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸºæœ¬æƒ…å ±ã‚¿ãƒ–:                            â”‚
â”‚ ã‚¿ã‚¹ã‚¯å: [____________] â€»å¿…é ˆ           â”‚
â”‚ ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³: [å–¶æ¥­éƒ¨ â–¼] â€»å¿…é ˆ          â”‚
â”‚ ã‚¹ãƒ†ãƒƒãƒ—: [1 â–¼] â€»å¿…é ˆ                   â”‚
â”‚ ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—: [User Task â–¼]             â”‚
â”‚ èª¬æ˜: [________________________]        â”‚
â”‚ å‰å·¥ç¨‹: [â˜ å·¥ç¨‹A] [â˜ å·¥ç¨‹B]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä¿å­˜]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. BPMNã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆ

**è¡¨ç¤º:**
- æ—¢å­˜ã®bpmn-jsã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½¿ç”¨
- å·¦ãƒ‘ãƒ¬ãƒƒãƒˆ: BPMNè¦ç´ 
- å³ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ‘ãƒãƒ«: å·¥ç¨‹è¡¨ã®ãƒ‡ãƒ¼ã‚¿ã¨é€£å‹•
- è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³

### 5. ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿

**è¡¨ç¤º:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒãƒ‹ãƒ¥ã‚¢ãƒ«: è¦‹ç©ã‚‚ã‚Šç™ºè¡Œ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Excelå‡ºåŠ›] [ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§:                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ â”‚ 1. è¦‹ç©ä½œæˆ (å·¥ç¨‹åã‹ã‚‰è‡ªå‹•ç”Ÿæˆ)â”‚      â”‚
â”‚ â”‚ è©³ç´°æ‰‹é †:                        â”‚      â”‚
â”‚ â”‚ [_______________________]       â”‚      â”‚
â”‚ â”‚ ç”»åƒ: [ç”»åƒã‚’è¿½åŠ ]              â”‚      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ â”‚ 2. æ‰¿èª                         â”‚      â”‚
â”‚ â”‚ ...                             â”‚      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€è¡“ä»•æ§˜

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

**å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’DROP & CREATE:**

```sql
-- æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å…¨ã¦å‰Šé™¤
DROP TABLE IF EXISTS manual_sections;
DROP TABLE IF EXISTS manuals;
DROP TABLE IF EXISTS bpmn_diagrams;
DROP TABLE IF EXISTS processes;
DROP TABLE IF EXISTS process_table_swimlanes;
DROP TABLE IF EXISTS process_table_steps;
DROP TABLE IF EXISTS process_table_custom_columns;
DROP TABLE IF EXISTS process_tables;
DROP TABLE IF EXISTS data_objects;
DROP TABLE IF EXISTS versions;
DROP TABLE IF EXISTS projects;

-- æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
CREATE TABLE projects (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  metadata TEXT
);

CREATE TABLE process_tables (
  id TEXT PRIMARY KEY,
  project_id TEXT NOT NULL,
  name TEXT NOT NULL,
  level TEXT NOT NULL CHECK(level IN ('large', 'medium', 'small', 'detail')),
  description TEXT,
  display_order INTEGER NOT NULL DEFAULT 0,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);

CREATE TABLE process_table_swimlanes (
  id TEXT PRIMARY KEY,
  process_table_id TEXT NOT NULL,
  name TEXT NOT NULL,
  color TEXT NOT NULL DEFAULT '#3B82F6',
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE process_table_steps (
  id TEXT PRIMARY KEY,
  process_table_id TEXT NOT NULL,
  name TEXT NOT NULL,
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE process_table_custom_columns (
  id TEXT PRIMARY KEY,
  process_table_id TEXT NOT NULL,
  name TEXT NOT NULL,
  type TEXT NOT NULL CHECK(type IN ('TEXT', 'NUMBER', 'DATE', 'SELECT', 'CHECKBOX')),
  options TEXT,
  required INTEGER NOT NULL DEFAULT 0,
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE processes (
  id TEXT PRIMARY KEY,
  process_table_id TEXT NOT NULL,
  name TEXT NOT NULL,
  swimlane TEXT NOT NULL,
  step_order INTEGER NOT NULL,
  task_type TEXT NOT NULL DEFAULT 'userTask',
  
  -- ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡
  before_process_ids TEXT,  -- JSONé…åˆ—
  next_process_ids TEXT,    -- JSONé…åˆ—ï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰
  
  -- BPMNè©³ç´°
  documentation TEXT,
  gateway_type TEXT,
  conditional_flows TEXT,   -- JSONé…åˆ—
  
  -- ã‚¤ãƒ™ãƒ³ãƒˆ
  event_type TEXT,
  intermediate_event_type TEXT,
  event_details TEXT,
  
  -- ãƒ‡ãƒ¼ã‚¿
  input_data_objects TEXT,  -- JSONé…åˆ—
  output_data_objects TEXT, -- JSONé…åˆ—
  
  -- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ
  message_flows TEXT,       -- JSONé…åˆ—
  artifacts TEXT,           -- JSONé…åˆ—
  
  -- ã‚«ã‚¹ã‚¿ãƒ åˆ—
  custom_columns TEXT,      -- JSON
  
  display_order INTEGER NOT NULL DEFAULT 0,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE bpmn_diagrams (
  id TEXT PRIMARY KEY,
  project_id TEXT NOT NULL,
  process_table_id TEXT NOT NULL UNIQUE,  -- 1å¯¾1å¯¾å¿œ
  name TEXT NOT NULL,
  level TEXT NOT NULL,
  xml_content TEXT NOT NULL,
  version INTEGER NOT NULL DEFAULT 1,
  layout_algorithm TEXT DEFAULT 'auto',
  layout_metadata TEXT,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE manuals (
  id TEXT PRIMARY KEY,
  project_id TEXT NOT NULL,
  process_table_id TEXT NOT NULL UNIQUE,  -- 1å¯¾1å¯¾å¿œ
  name TEXT NOT NULL,
  level TEXT NOT NULL,
  content TEXT NOT NULL,
  version INTEGER NOT NULL DEFAULT 1,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE,
  FOREIGN KEY (process_table_id) REFERENCES process_tables(id) ON DELETE CASCADE
);

CREATE TABLE manual_sections (
  id TEXT PRIMARY KEY,
  manual_id TEXT NOT NULL,
  process_id TEXT NOT NULL,
  title TEXT NOT NULL,
  content TEXT,
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (manual_id) REFERENCES manuals(id) ON DELETE CASCADE,
  FOREIGN KEY (process_id) REFERENCES processes(id) ON DELETE CASCADE
);

CREATE TABLE manual_detail_steps (
  id TEXT PRIMARY KEY,
  section_id TEXT NOT NULL,
  title TEXT NOT NULL,
  content TEXT,
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (section_id) REFERENCES manual_sections(id) ON DELETE CASCADE
);

CREATE TABLE manual_image_slots (
  id TEXT PRIMARY KEY,
  section_id TEXT NOT NULL,
  caption TEXT NOT NULL,
  image_path TEXT,
  order_num INTEGER NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (section_id) REFERENCES manual_sections(id) ON DELETE CASCADE
);

CREATE TABLE data_objects (
  id TEXT PRIMARY KEY,
  project_id TEXT NOT NULL,
  name TEXT NOT NULL,
  type TEXT NOT NULL,
  description TEXT,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);

CREATE TABLE versions (
  id TEXT PRIMARY KEY,
  project_id TEXT NOT NULL,
  timestamp INTEGER NOT NULL,
  author TEXT NOT NULL,
  message TEXT NOT NULL,
  tag TEXT,
  parent_version_id TEXT,
  snapshot_data TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE,
  FOREIGN KEY (parent_version_id) REFERENCES versions(id)
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
CREATE INDEX idx_process_tables_project_id ON process_tables(project_id);
CREATE INDEX idx_swimlanes_table_id ON process_table_swimlanes(process_table_id);
CREATE INDEX idx_steps_table_id ON process_table_steps(process_table_id);
CREATE INDEX idx_custom_columns_table_id ON process_table_custom_columns(process_table_id);
CREATE INDEX idx_processes_table_id ON processes(process_table_id);
CREATE INDEX idx_bpmn_diagrams_table_id ON bpmn_diagrams(process_table_id);
CREATE INDEX idx_manuals_table_id ON manuals(process_table_id);
CREATE INDEX idx_manual_sections_manual_id ON manual_sections(manual_id);
CREATE INDEX idx_manual_sections_process_id ON manual_sections(process_id);
CREATE INDEX idx_detail_steps_section_id ON manual_detail_steps(section_id);
CREATE INDEX idx_image_slots_section_id ON manual_image_slots(section_id);
CREATE INDEX idx_data_objects_project_id ON data_objects(project_id);
```

### 2. APIè¨­è¨ˆ

**IPCé€šä¿¡ï¼ˆElectronï¼‰:**

```typescript
// ProcessTable API
interface ProcessTableAPI {
  create(data: CreateProcessTableDto): Promise<CreateProcessTableResult>;
  update(id: string, data: UpdateProcessTableDto): Promise<ProcessTable>;
  delete(id: string): Promise<boolean>;
  getById(id: string): Promise<ProcessTable>;
  getByProject(projectId: string): Promise<ProcessTable[]>;
  
  // ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³ç®¡ç†
  addSwimlane(tableId: string, data: AddSwimlaneDto): Promise<Swimlane>;
  updateSwimlane(id: string, data: UpdateSwimlaneDto): Promise<Swimlane>;
  deleteSwimlane(id: string): Promise<boolean>;
  
  // ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
  addStep(tableId: string, data: AddStepDto): Promise<Step>;
  updateStep(id: string, data: UpdateStepDto): Promise<Step>;
  deleteStep(id: string): Promise<boolean>;
  
  // ã‚«ã‚¹ã‚¿ãƒ åˆ—ç®¡ç†
  addCustomColumn(tableId: string, data: AddCustomColumnDto): Promise<CustomColumn>;
  updateCustomColumn(id: string, data: UpdateCustomColumnDto): Promise<CustomColumn>;
  deleteCustomColumn(id: string): Promise<boolean>;
}

// Process API
interface ProcessAPI {
  create(data: CreateProcessDto): Promise<CreateProcessResult>;
  update(id: string, data: UpdateProcessDto): Promise<UpdateProcessResult>;
  delete(id: string): Promise<DeleteProcessResult>;
  getById(id: string): Promise<Process>;
  getByProcessTable(tableId: string): Promise<Process[]>;
  
  // nextProcessIdsè‡ªå‹•è¨ˆç®—
  calculateNextProcessIds(processId: string): Promise<string[]>;
}

// DataObject API
interface DataObjectAPI {
  create(data: CreateDataObjectDto): Promise<DataObject>;
  update(id: string, data: UpdateDataObjectDto): Promise<DataObject>;
  delete(id: string): Promise<boolean>;
  getById(id: string): Promise<DataObject>;
  getByProject(projectId: string): Promise<DataObject[]>;
}

// BPMN APIï¼ˆæ—¢å­˜ã«è¿½åŠ ï¼‰
interface BpmnAPI {
  // è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  autoLayout(diagramId: string): Promise<BpmnDiagram>;
  
  // åŒæ–¹å‘åŒæœŸ
  syncFromProcessTable(tableId: string): Promise<SyncResult>;
  syncToProcessTable(diagramId: string): Promise<SyncResult>;
}

// Manual APIï¼ˆæ—¢å­˜ã«è¿½åŠ ï¼‰
interface ManualAPI {
  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
  updateSection(id: string, content: string): Promise<ManualSection>;
  addDetailStep(sectionId: string, data: AddDetailStepDto): Promise<DetailStep>;
  
  // ç”»åƒç®¡ç†
  addImageSlot(sectionId: string, data: AddImageSlotDto): Promise<ImageSlot>;
  uploadImage(slotId: string, imagePath: string): Promise<ImageSlot>;
  
  // Excelå‡ºåŠ›
  exportToExcel(manualId: string, outputPath: string): Promise<boolean>;
}
```

### 3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡¦ç†

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚:**
```typescript
// electron/main.ts
app.on('ready', () => {
  const dbPath = path.join(app.getPath('userData'), 'database.db');
  
  if (!fs.existsSync(dbPath)) {
    // æ–°è¦DBä½œæˆ
    initializeDatabase(dbPath);
  } else {
    // æ—¢å­˜DBã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
    const version = getDatabaseVersion(dbPath);
    if (version < CURRENT_VERSION) {
      // ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
      runMigrations(dbPath, version);
    }
  }
});
```

**ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚:**
```javascript
// electron-builder.yml
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: true  // AppDataãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
```

ã¾ãŸã¯ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:
```nsis
; installer.nsi
Function un.onUninstSuccess
  RMDir /r "$APPDATA\output-management-tool"
FunctionEnd
```

---

## ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»

### ãƒ•ã‚§ãƒ¼ã‚º1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†æ§‹ç¯‰

**ç›®æ¨™**: æ–°ã—ã„ã‚¹ã‚­ãƒ¼ãƒã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å†æ§‹ç¯‰

**ã‚¿ã‚¹ã‚¯:**
1. Migration 007ä½œæˆï¼ˆå…¨ãƒ†ãƒ¼ãƒ–ãƒ«DROP & CREATEï¼‰
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–å‡¦ç†ã®æ›´æ–°
3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã§ã®DBä½œæˆå‡¦ç†
4. ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã§ã®DBå‰Šé™¤å‡¦ç†

**æœŸé–“**: 1æ—¥

### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…

**ç›®æ¨™**: æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œã™ã‚‹APIå®Ÿè£…

**ã‚¿ã‚¹ã‚¯:**
1. ProcessTable IPC handlers
2. Process IPC handlersï¼ˆBPMNé …ç›®è¿½åŠ ï¼‰
3. DataObject IPC handlers
4. Swimlane, Step, CustomColumnç®¡ç†
5. nextProcessIdsè‡ªå‹•è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
6. BPMNåŒæœŸãƒ­ã‚¸ãƒƒã‚¯æ›´æ–°
7. ManualåŒæœŸãƒ­ã‚¸ãƒƒã‚¯æ›´æ–°

**æœŸé–“**: 3-4æ—¥

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

**ç›®æ¨™**: æ–°ã—ã„UIã®å®Ÿè£…

**ã‚¿ã‚¹ã‚¯:**
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸æ›´æ–°
2. å·¥ç¨‹è¡¨ä¸€è¦§è¡¨ç¤º
3. å·¥ç¨‹è¡¨ä½œæˆãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
4. å·¥ç¨‹ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆã‚¿ãƒ–UIï¼‰
5. ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç”»é¢
6. ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿æ›´æ–°

**æœŸé–“**: 4-5æ—¥

### ãƒ•ã‚§ãƒ¼ã‚º4: BPMNçµ±åˆ

**ç›®æ¨™**: BPMNã‚¨ãƒ‡ã‚£ã‚¿ã¨ã®å®Œå…¨çµ±åˆ

**ã‚¿ã‚¹ã‚¯:**
1. BPMNè‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…
2. ã‚¹ã‚¤ãƒ ãƒ¬ãƒ¼ãƒ³è¡¨ç¤º
3. åŒæ–¹å‘åŒæœŸã®æ”¹å–„
4. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ‘ãƒãƒ«ã®æ‹¡å¼µ

**æœŸé–“**: 3-4æ—¥

### ãƒ•ã‚§ãƒ¼ã‚º5: ãƒ†ã‚¹ãƒˆãƒ»èª¿æ•´

**ç›®æ¨™**: å‹•ä½œç¢ºèªã¨ãƒã‚°ä¿®æ­£

**ã‚¿ã‚¹ã‚¯:**
1. å˜ä½“ãƒ†ã‚¹ãƒˆ
2. çµ±åˆãƒ†ã‚¹ãƒˆ
3. UI/UXèª¿æ•´
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
5. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

**æœŸé–“**: 2-3æ—¥

---

## åˆè¨ˆæœŸé–“: 13-17æ—¥ï¼ˆç´„2.5-3.5é€±é–“ï¼‰

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ21æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 9.0.0  
**æ‰¿èª**: è¦ç¢ºèª
